<div class="container mt-3">
    <div class="row" cdkDropListGroup>
        <div class="col-8">
            <div class="card">
                <div class="card-header">
                    Form
                </div>
                <div class="card-body">
                    <div
                        *ngFor="let row of sharedData.designData"
                        id="{{ row.id }}"
                        class="d-flex"
                        style="margin-left: -.5rem; margin-right: -.5rem;"
                        cdkDropList
                        cdkDropListOrientation="horizontal"
                        [cdkDropListData]="row.columns"
                        [cdkDropListConnectedTo]="connectedTo"
                        (cdkDropListDropped)="dropOnRow($event)">
                        <div
                            *ngFor="let column of row.columns"
                            cdkDrag
                            class="flex-grow-1 mx-2 my-1">
                            <div
                                class="element-container"
                                (click)="selectElement(column)"
                                [ngClass]="{ 'selected' : sharedData.selectedElement && column.id == sharedData.selectedElement.id }">

                                <div class="d-flex justify-content-between mb-1">
                                    <label>{{ column.label }}</label>
                                    <button
                                        *ngIf="sharedData.selectedElement && column.id == sharedData.selectedElement.id"
                                        class="btn btn-sm btn-danger"
                                        style="font-size: 11px; padding: .15rem .25rem;"
                                        (click)="deleteElement(column.id)">
                                        <i class="fa fa-trash"></i>
                                    </button>
                                </div>

                                <ng-container *ngIf="column.type == elementType.Text">
                                    <input type="text" class="form-control" />
                                </ng-container>

                                <ng-container *ngIf="column.type == elementType.Numeric">
                                    <input type="number" class="form-control" />
                                </ng-container>
                            </div>
                        </div>
                    </div>
                    <div
                        [id]="dropRowId"
                        class="row-drop-zone"
                        cdkDropList
                        [cdkDropListData]="[]"
                        (cdkDropListDropped)="dropOnNewRow($event)">
                        Drop element here to add new row
                    </div>
                </div>
            </div>
        </div>
        <div class="col-4">
            <div class="card">
                <div class="card-header">
                    Available Headers
                </div>
                <div class="card-body">
                    <div
                        [id]="availableElementsListId"
                        cdkDropList
                        [cdkDropListData]="sharedData.availableFormElements"
                        [cdkDropListConnectedTo]="connectedTo">
                        <div
                            *ngFor="let item of sharedData.availableFormElements"
                            cdkDrag
                            class="card my-2"
                            style="cursor: grab;">
                            <div class="card-body">
                                {{ item.title }}
                            </div>
                        </div>
                    </div>
                    <small class="text-muted mt-2">Double Click or Dran and Drop element to add to form</small>
                </div>
            </div>
        </div>
    </div>
</div>